{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIARE JURÍDICO</title>
    <link rel="stylesheet" href="{% static 'perfil.css' %}">
</head>
<body>
    <header class="navbar">
        <ul class="nav-menu">
            <li class="nav-item logo">
                <div class="logo-text">
                    <div class="logo-main">SIARE</div>
                    <div class="logo-sub">JURÍDICO</div>
                </div>
            </li>
            <li class="nav-item">
                <a href="{% url 'agente' %}">
                    <div class="nav-icon">
                        <svg class="placeholder-icon" viewBox="0 0 24 24">
                            <circle cx="12" cy="8" r="4"></circle>
                            <path d="M12 12c-4 0-8 2-8 6v2h16v-2c0-4-4-6-8-6z"></path>
                        </svg>
                    </div>
                    <div class="nav-text">Perfil</div>
                </a>
            </li>
            <li class="nav-item">
                <div class="custom-dropdown">
                    <div class="dropdown-header">
                        <div class="nav-icon">
                            <svg class="placeholder-icon" viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                        </div>
                        <div class="nav-text">Horario</div>
                    </div>
                    <div class="dropdown-content">
                        <div class="dropdown-item" data-value="{% url 'cronometro' %}">Registro</div>
                        <div class="dropdown-item" data-value="#">Resumen</div>
                    </div>
                </div>
            </li>
            <li class="nav-item">
                <a href="#">
                    <div class="nav-icon">
                        <svg class="placeholder-icon" viewBox="0 0 24 24">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                    </div>
                    <div class="nav-text">Consulta</div>
                </a>
            </li>
            <li class="nav-item">
                <a href="{% url 'logout' %}">
                    <div class="nav-icon">
                        <svg class="placeholder-icon" viewBox="0 0 24 24">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                    </div>
                    <div class="nav-text">Cerrar Sesión</div>
                </a>
            </li>
        </ul>
    </header>
    
    <main class="content">
        {% block content %}{% endblock %}
    </main>

    <footer>
        <div class="copyright">Copyright © 2025</div>
    </footer>
    <script>
        window.appConfig = {
            guardarEventoURL: "{% url 'guardar_evento' %}",
            csrfToken: "{{ csrf_token }}"
        };
    </script>
    <script src="{% static 'js/cronometro.js' %}"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Obtener el dropdown
            const dropdown = document.querySelector('.custom-dropdown');
            const dropdownHeader = dropdown.querySelector('.dropdown-header');
            const dropdownContent = dropdown.querySelector('.dropdown-content');
            const dropdownItems = dropdown.querySelectorAll('.dropdown-item');
            
            // Mostrar/ocultar el dropdown al hacer clic en el header
            dropdownHeader.addEventListener('click', function(e) {
                e.preventDefault();
                dropdownContent.classList.toggle('show');
            });
            
            // Cerrar el dropdown cuando se hace clic fuera de él
            document.addEventListener('click', function(e) {
                if (!dropdown.contains(e.target)) {
                    dropdownContent.classList.remove('show');
                }
            });
            
            // Manejar la selección de elementos
            dropdownItems.forEach(item => {
                item.addEventListener('click', function() {
                    const value = this.getAttribute('data-value');
                    // Llamar a la función original
                    navegarHorario(value);
                    // Cerrar el dropdown
                    dropdownContent.classList.remove('show');
                });
            });
            
            // Función original (mantenida para compatibilidad)
            function navegarHorario(value) {
                if (value) {
                    window.location.href = value;
                }
            }
        });
    </script>
</body>
</html>
